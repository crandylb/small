     1                                 %line 1+1 testscan.asm
     2                                 
     3                                 
     4                                 
     5                                 [global TESTSCAN]
     6                                 
     7                                 [global progr]
     8                                 [extern exit]
     9                                 
    10                                 [global TESTSCAN]
    11                                 [section .text]
    12                                 progr:
    13 00000000 55                      push EBP
    14 00000001 89E5                    mov EBP,ESP
    15 00000003 EBFE                    jmp TESTSCAN
    16                                 
    17                                 [global BUFF]
    18                                 
    19                                 
    20                                 [extern READ]
    21                                 [extern WRITE]
    22                                 
    23                                 [extern LEX]
    24                                 [extern CAT2]
    25                                 
    26                                 [extern SCAN]
    27                                 
    28                                 [extern OUTCH]
    29                                 
    30                                 
    31                                 [section .data]
    32                                 GREET:
    33 00000000 15000000                dd 21
    34 00000004 42000000                dd 66
    35 00000008 65000000                dd 101
    36 0000000C 67000000                dd 103
    37 00000010 69000000                dd 105
    38 00000014 6E000000                dd 110
    39 00000018 20000000                dd 32
    40 0000001C 53000000                dd 83
    41 00000020 6D000000                dd 109
    42 00000024 61000000                dd 97
    43 00000028 6C000000                dd 108
    44 0000002C 6C000000                dd 108
    45 00000030 20000000                dd 32
    46 00000034 53000000                dd 83
    47 00000038 43000000                dd 67
    48 0000003C 41000000                dd 65
    49 00000040 4E000000                dd 78
    50 00000044 20000000                dd 32
    51 00000048 54000000                dd 84
    52 0000004C 65000000                dd 101
    53 00000050 73000000                dd 115
    54 00000054 74000000                dd 116
    55                                 
    56                                 
    57                                 [section .text]
    58                                 TESTSCAN:
    59                                 
    60                                 
    61 00000005 68[00000000]            push OUTCH
    62 0000000A 68[00000000]            push GREET
    63 0000000F E8(F6FFFFFF)            call WRITE
    64 00000014 83C408                  add ESP,4*2
    65                                 
    66                                 
    67 00000017 E8(F6FFFFFF)            call SCAN
    68                                 
    69                                 
    70 0000001C 89EC                    mov ESP,EBP
    71 0000001E 5D                      pop EBP
    72 0000001F C3                      ret
    73                                 
    74                                 
    75                                  end
